(this["webpackJsonpexperiment-aria-active-descendant"]=this["webpackJsonpexperiment-aria-active-descendant"]||[]).push([[0],{34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),i=n(25),s=n.n(i),a=(n(34),n(35),n(3)),d=n(26),o=n.n(d),l=(n(36),n(27)),j=n.n(l);var h=n(0),b={"id-0":"In the Milne books","id-1":"Pooh is naive and slow-witted","id-2":"but he is also friendly","id-3":"thoughtful and steadfast","id-4":Object(h.jsxs)(h.Fragment,{children:["An authorised sequel"," ",Object(h.jsx)("a",{href:"https://en.wikipedia.org/wiki/Return_to_the_Hundred_Acre_Wood",children:"Return to the Hundred Acre Wood"})," was published on 5 October 2009"]})},u=Object(r.forwardRef)((function(e,t){var n=Object(r.useState)("id-0"),c=Object(a.a)(n,2),i=c[0],s=c[1],d=Object(r.useMemo)((function(){return"active-descendant__id-".concat(j()().toString(36).substr(2,5))}),[i]),l=Object(r.useCallback)((function(e){return s((function(t){var n=Object.keys(b),r=n.indexOf(t);return n[Math.max(0,Math.min(n.length-1,r+e))]}))}),[s]),u=Object(r.useCallback)((function(){return l(1)}),[l]),O=Object(r.useCallback)((function(){return l(-1)}),[l]),x=Object(r.useCallback)((function(e){switch(e.key){case"ArrowUp":e.preventDefault(),O();break;case"ArrowDown":e.preventDefault(),u()}}),[u,O]);return Object(h.jsx)("div",{"aria-activedescendant":d,className:"active-descendant",onKeyDown:x,ref:t,role:"group",tabIndex:"0",children:Object(h.jsx)("ul",{className:"active-descendant__list",children:Object.entries(b).map((function(e){var t=Object(a.a)(e,2),n=t[0],r=t[1];return Object(h.jsx)("li",{className:o()("active-descendant__item",{"active-descendant__item--active":n===i}),id:n===i?d:void 0,children:r},n)}))})})})),O=n(28),x=n(29),f=n.n(x),v=(n(50),function(e){var t=e.elementRef,n=e.intervalInMS,c=void 0===n?1e3:n,i=Object(r.useState)(""),s=Object(a.a)(i,2),d=s[0],o=s[1];return Object(r.useEffect)((function(){var e=setInterval((function(){o(Object(O.format)(t.current.outerHTML,{parser:"html",plugins:[f.a]}))}),c);return function(){return clearInterval(e)}}),[t,c,o]),Object(h.jsx)("pre",{className:"outer-html-view",children:d})});var w=function(){var e=Object(r.useRef)();return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("h1",{children:"Background"}),Object(h.jsxs)("p",{children:["We are using"," ",Object(h.jsx)("a",{href:"https://www.w3.org/TR/wai-aria/#aria-activedescendant",rel:"noopener noreferrer",target:"_blank",children:Object(h.jsx)("code",{children:"aria-activedescendant"})})," ","to drive the navigation pattern."]}),Object(h.jsx)("h1",{children:"Steps"}),Object(h.jsxs)("ol",{children:[Object(h.jsx)("li",{children:"Start screen reader."}),Object(h.jsxs)("li",{children:["Press ",Object(h.jsx)("kbd",{children:"TAB"})," to focus to the list below, should see a solid black border."]}),Object(h.jsxs)("li",{children:["Disable scan mode by pressing ",Object(h.jsx)("kbd",{children:"CAPS"})," + ",Object(h.jsx)("kbd",{children:"SPACE"})," (higher pitch sound in NVDA indicate scan mode is disabled).",Object(h.jsx)("ul",{children:Object(h.jsx)("li",{children:"Apple VoiceOver do not have scan mode."})})]}),Object(h.jsxs)("li",{children:["Press ",Object(h.jsx)("kbd",{children:"UP"}),"/",Object(h.jsx)("kbd",{children:"DOWN"})," arrow keys to navigate across items, should see both solid and dashed border."]})]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("strong",{children:"EXPECT"}),": When using arrow keys to navigate, screen reader should read each of the list item correctly."]}),Object(h.jsx)("h1",{children:"Try this out"}),Object(h.jsx)(u,{ref:e}),Object(h.jsx)("h1",{children:"Live View of HTML"}),Object(h.jsx)(v,{elementRef:e,intervalInMS:200}),Object(h.jsx)("h1",{children:"Test matrix"}),Object(h.jsxs)("ul",{children:[Object(h.jsxs)("li",{children:["Edge + Windows Narrator",Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:"\u2714\ufe0f Do narrate content on arrow keys (when active descendant change)."}),Object(h.jsx)("li",{children:'\u274c Do not narrate "Return to the Hundred Acre Wood". It narrate "An authorised sequel was published on ...". Seems like a browser bug.'})]})]}),Object(h.jsxs)("li",{children:["Chrome + NVDA:",Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:'\u274c Do not narrate content on arrow keys (when active descendant change), only narrate "1 of 5".'}),Object(h.jsx)("li",{children:'\u274c Do not narrate "Return to the Hundred Acre Wood". It narrate "An authorised sequel was published on ...". Seems like a browser bug.'})]})]}),Object(h.jsxs)("li",{children:["Firefox + NVDA:",Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:"\u2714\ufe0f Do narrate content on arrow keys (when active descendant change)."}),Object(h.jsx)("li",{children:'\u2714\ufe0f Do narrate "Return to the Hundred Acre Wood".'}),Object(h.jsx)("li",{children:'\u274c Do not narrate "link" (accessible name) for "Return to the Hundred Acre Wood", treated as plain text.'})]})]}),Object(h.jsxs)("li",{children:["Safari (macOS) + VoiceOver:",Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:'\u2714\ufe0f Do narrate SOME content on arrow keys: "An authorised sequel and 2 more items."'}),Object(h.jsxs)("li",{children:['\u2714\ufe0f Do narrate "link" (accessible name) when pressing ',Object(h.jsx)("kbd",{children:"CAPS"})," + ",Object(h.jsx)("kbd",{children:"RIGHT"}),': "link, Return to the Hundred Acre Wood".']})]})]}),Object(h.jsxs)("li",{children:["Safari (iPadOS 15) + VoiceOver:",Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:"\u2714\ufe0f Do narrate content on two-finger swipe down."}),Object(h.jsx)("li",{children:'\u2714\ufe0f Do narrate "link" (accessible name): "... sequel Return to the Hundred Acre Wood, link, was ..."'})]})]}),Object(h.jsxs)("li",{children:["Android 12 + TalkBack:",Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:"\u2714\ufe0f Do narrate content one-by-one on one-finger swipe down."}),Object(h.jsx)("li",{children:'\u2714\ufe0f Do narrate "link" (accessible name): "... sequel", "Return to the Hundred Acre Wood, link", "was ..."'})]})]})]})]})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,52)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),i(e),s(e)}))};s.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(w,{})}),document.getElementById("root")),k()}},[[51,1,2]]]);
//# sourceMappingURL=main.6c074a99.chunk.js.map